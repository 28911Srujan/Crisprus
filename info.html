<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Signal Hub</title>
</head>
<body>
    <div id="raw-stream"></div>

    <script>
        function refresh() {
            const container = document.getElementById('raw-stream');
            const data = JSON.parse(localStorage.getItem('mc_server_data')) || [];
            
            // Generate clean paragraph lines for the server to scrape
            let output = '';
            data.forEach(s => {
                output += `<p>[${s.name} - ${s.signal}]</p>`;
            });
            
            container.innerHTML = output;
        }

        // Check every 5 seconds as requested
        setInterval(refresh, 5000);
        // Also update immediately if storage changes
        window.addEventListener('storage', refresh);
        refresh();
    </script>
</body>
</html>
